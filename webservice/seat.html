<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, width=device-width" />

    <title></title>

    <meta name="description" content="" />

    <link rel="stylesheet" href="./global.css" />
    <link rel="stylesheet" href="./seat.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;400;700&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Segoe UI:wght@400&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=HelveticaNeue:wght@400&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Helvetica Neue:wght@400&display=swap"
    />
    <script
      src="https://code.jquery.com/jquery-3.6.1.js"
      integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI="
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <div class="seat-div">
      <div class="div">
        <div class="div1">
          <img class="tgv-logo-icon" alt="" src="public/tgv-logo@2x.png" />
          <div class="div2">
            <b class="tgv-b">TGV</b>
            <div class="tu-golden-village">TU Golden Village</div>
          </div>
          <div class="div3"><div class="logout-div">Logout</div></div>
        </div>
        <div class="div4">
          <div class="div5">
            <div class="div6">
              <div class="div7">
                <b class="b">블랙팬서-와칸다 포에버</b>
                <div class="div8">
                  <div class="b">장르: 액션</div>
                  <div class="div10">감독: 라이언 쿠글러</div>
                  <div class="div11">시놉시스</div>
                  <div class="div12">
                    <p class="p">“와칸다를 지켜라!”</p>
                    <p class="p">
                      거대한 두 세계의 충돌, 운명을 건 최후의 전투가 시작된다!
                    </p>
                    <p class="p">&nbsp;</p>
                    <p class="p">국왕이자 ‘블랙 팬서’인 '티찰라'의 죽음 이후</p>
                    <p class="p">
                      수많은 강대국으로부터 위협을 받게 된 '와칸다'
                    </p>
                  </div>
                </div>
              </div>
              <img class="icon" alt="" src="public/-2@2x.png" />
            </div>
            <div class="div13"><b class="b">TGV</b></div>
          </div>
          <div class="div14">
            <div class="div15">
              <div class="div16">11월</div>
              <div class="div17">
                <div class="div18">
                  <b class="b1">21</b><b class="b2">23</b><b class="b3">22</b
                  ><b class="b4">24</b><b class="b5">25</b
                  ><b class="div10">26</b>
                </div>
                <div class="iconnavigationchevron-right-div">
                  <img class="color-icon" alt="" src="public/-color3.svg" />
                </div>
                <div class="div19">
                  <img class="color-icon1" alt="" src="public/-color4.svg" />
                </div>
              </div>
            </div>
            <div class="div20">
              <div class="div21" id="reserve-1" onclick="OpenModal(0)">
                <div class="div22">
                  <div class="div23">
                    <span>170 </span><span class="span">/ 18</span>
                  </div>
                  <div class="div24"><b class="b">09:20</b></div>
                </div>
              </div>
              <div class="div25" id="reserve-2" onclick="OpenModal(1)">
                <div class="div22">
                  <div class="div23">
                    <span>170 </span><span class="span">/ 18</span>
                  </div>
                  <div class="div24"><b class="b">09:20</b></div>
                </div>
              </div>
              <div class="div29" id="reserve-3" onclick="OpenModal(2)">
                <div class="div30">
                  <div class="div23">
                    <span>170 </span><span class="span">/ 18</span>
                  </div>
                  <div class="div24"><b class="b">09:20</b></div>
                </div>
              </div>
              <div class="div33" id="reserve-4" onclick="OpenModal(3)">
                <div class="div34">
                  <div class="div23">
                    <span>170 </span><span class="span">/ 18</span>
                  </div>
                  <div class="div24"><b class="b">09:20</b></div>
                </div>
              </div>
              <div class="div37" id="reserve-5" onclick="OpenModal(4)">
                <div class="div34">
                  <div class="div23">
                    <span>170 </span><span class="span">/ 18</span>
                  </div>
                  <div class="div24"><b class="b">09:20</b></div>
                </div>
              </div>
              <div class="div41" id="reserve-6" onclick="OpenModal(5)">
                <div class="div34">
                  <div class="div23">
                    <span>170 </span><span class="span">/ 18</span>
                  </div>
                  <div class="div24"><b class="b">09:20</b></div>
                </div>
              </div>
              <div class="div45" id="reserve-7" onclick="OpenModal(6)">
                <div class="div34">
                  <div class="div23">
                    <span>170 </span><span class="span">/ 18</span>
                  </div>
                  <div class="div24"><b class="b">09:20</b></div>
                </div>
              </div>
              <div class="div49" id="reserve-8" onclick="OpenModal(7)">
                <div class="div50">
                  <div class="div23">
                    <span>170 </span><span class="span">/ 18</span>
                  </div>
                  <div class="div24"><b class="b">09:20</b></div>
                </div>
              </div>
              <div class="div53" id="reserve-9" onclick="OpenModal(8)">
                <div class="div50">
                  <div class="div23">
                    <span>170 </span><span class="span">/ 18</span>
                  </div>
                  <div class="div24"><b class="b">09:20</b></div>
                </div>
              </div>
            </div>
            <div class="div57">
              <div class="div58"><b class="b">--:-- ---</b></div>
              <div class="not-reserved-div">Not Reserved</div>
            </div>
            <div class="div59">
              <img class="color-icon2" alt="" src="public/-color5.svg" />
            </div>
          </div>
        </div>
      </div>
      <div class="div60" id="modal">
        <div class="div61">
          <div class="div62">
            <b class="seat-b">Seat</b>
            <div class="div63">
              <div class="div10">
                <span>170</span><span class="span9"> / 180</span>
              </div>
              <div class="div65">1인</div>
            </div>
            <div class="div66">
              <div class="div67">
                <div class="b">1</div>
                <div class="div69">2</div>
                <div class="div70">3</div>
                <div class="div71">4</div>
                <div class="div72">5</div>
                <div class="div73">6</div>
                <div class="div74">7</div>
                <div class="div75">8</div>
                <div class="div10">9</div>
              </div>
              <div class="div77">
                <div class="b">A</div>
                <div class="b-div">B</div>
                <div class="c-div">C</div>
                <div class="d-div">D</div>
              </div>
              <div class="div78">
                <div class="div79">
                  <div class="div80" onclick="SelectSeat(0, 0, seleted)"></div>
                  <div class="div81" onclick="SelectSeat(0, 1, seleted)"></div>
                  <div class="div82"></div>
                  <div class="div83"></div>
                  <div class="div84"></div>
                  <div class="div85"></div>
                  <div class="div86"></div>
                  <div class="div87"></div>
                  <div class="div88"></div>
                </div>
                <div class="div89">
                  <div class="div90"></div>
                  <div class="div81"></div>
                  <div class="div82"></div>
                  <div class="div93"></div>
                  <div class="div84"></div>
                  <div class="div85"></div>
                  <div class="div86"></div>
                  <div class="div87"></div>
                  <div class="div88"></div>
                </div>
                <div class="div99">
                  <div class="div90"></div>
                  <div class="div81"></div>
                  <div class="div82"></div>
                  <div class="div83"></div>
                  <div class="div104"></div>
                  <div class="div105"></div>
                  <div class="div86"></div>
                  <div class="div87"></div>
                  <div class="div88"></div>
                </div>
                <div class="div109">
                  <div class="div90"></div>
                  <div class="div81"></div>
                  <div class="div82"></div>
                  <div class="div83"></div>
                  <div class="div84"></div>
                  <div class="div85"></div>
                  <div class="div86"></div>
                  <div class="div87"></div>
                  <div class="div88"></div>
                </div>
              </div>
              <div class="div119"><div class="screen-div">screen</div></div>
            </div>
            <div class="div120" onclick="ConfirmModal()">
              <div class="div121" id="confirm">선택하기</div>
            </div>
            <div class="div122" id="cancel" onclick="CloseModal()">
              <img class="color-icon2" alt="" src="public/-color5.svg" />
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      var seleted;
      var seat = [
        {
          0: [0, 0, 0, 0, 0, 0, 0, 0, 0],
          1: [0, 2, 0, 0, 0, 0, 0, 0, 0],
          2: [0, 0, 2, 0, 0, 0, 0, 0, 0],
          3: [0, 0, 2, 0, 0, 0, 0, 0, 0],
        },
        {
          0: [0, 0, 0, 0, 0, 0, 0, 0, 0],
          1: [0, 2, 0, 0, 0, 0, 0, 0, 0],
          2: [0, 0, 2, 0, 0, 0, 0, 0, 0],
          3: [0, 0, 2, 0, 0, 0, 0, 0, 0],
        },
        {
          0: [0, 0, 0, 0, 0, 0, 0, 0, 0],
          1: [0, 2, 0, 0, 0, 0, 0, 0, 0],
          2: [0, 0, 2, 0, 0, 0, 0, 0, 0],
          3: [0, 0, 2, 0, 0, 0, 0, 0, 0],
        },
        {
          0: [0, 0, 0, 0, 0, 0, 0, 0, 0],
          1: [0, 2, 0, 0, 0, 0, 0, 0, 0],
          2: [0, 0, 2, 0, 0, 0, 0, 0, 0],
          3: [0, 0, 2, 0, 0, 0, 0, 0, 0],
        },
        {
          0: [0, 0, 0, 0, 0, 0, 0, 0, 0],
          1: [0, 2, 0, 0, 0, 0, 0, 0, 0],
          2: [0, 0, 2, 0, 0, 0, 0, 0, 0],
          3: [0, 0, 2, 0, 0, 0, 0, 0, 0],
        },
        {
          0: [0, 0, 0, 0, 0, 0, 0, 0, 0],
          1: [0, 2, 0, 0, 0, 0, 0, 0, 0],
          2: [0, 0, 2, 0, 0, 0, 0, 0, 0],
          3: [0, 0, 2, 0, 0, 0, 0, 0, 0],
        },
        {
          0: [0, 0, 0, 0, 0, 0, 0, 0, 0],
          1: [0, 2, 0, 0, 0, 0, 0, 0, 0],
          2: [0, 0, 2, 0, 0, 0, 0, 0, 0],
          3: [0, 0, 2, 0, 0, 0, 0, 0, 0],
        },
        {
          0: [0, 0, 0, 0, 0, 0, 0, 0, 0],
          1: [0, 2, 0, 0, 0, 0, 0, 0, 0],
          2: [0, 0, 2, 0, 0, 0, 0, 0, 0],
          3: [0, 0, 2, 0, 0, 0, 0, 0, 0],
        },
        {
          0: [0, 0, 0, 0, 0, 0, 0, 0, 0],
          1: [0, 2, 0, 0, 0, 0, 0, 0, 0],
          2: [0, 0, 2, 0, 0, 0, 0, 0, 0],
          3: [0, 0, 2, 0, 0, 0, 0, 0, 0],
        },
      ];
      var QuerySeat = document.querySelector('.div78');
      function OpenModal(k) {
        var modal = document.getElementById('modal');
        if (modal) {
          selected = k;
          modal.style.display = 'flex';
          InitModal(k);
        }
      }
      function CloseModal() {
        var modal = document.getElementById('modal');
        if (modal) {
          for (let i = 0; i < seat.length; i++) {
            for (let j = 0; j < Object.keys(seat[i]).length; j++) {
              for (let k = 0; k < seat[i][j].length; k++) {
                if (seat[i][j][k] == 1) {
                  seat[i][j][k] = 0;
                }
              }
            }
          }
          modal.style.display = 'none';
        }
      }
      function ConfirmModal() {
        var modal = document.getElementById('modal');
        if (modal) {
          for (let i = 0; i < seat.length; i++) {
            for (let j = 0; j < Object.keys(seat[i]).length; j++) {
              for (let k = 0; k < seat[i][j].length; k++) {
                if (seat[i][j][k] == 1) {
                  seat[i][j][k] = 2;
                }
              }
            }
          }
          modal.style.display = 'none';
        }
      }
      function SelectSeat(line, num, axis) {
        if (seat[axis][line][num] == 0) {
          seat[axis][line][num] = 1;
          QuerySeat.children[line].children[num].style.cssText +=
            'border: 1px solid var(--color-gray-800);  background-color: var(--color-white)';
        } else if (seat[axis][line][num] == 1) {
          seat[axis][line][num] = 0;
          QuerySeat.children[line].children[num].style.cssText +=
            'border: none; background-color: var(--color-gray-100);';
        }
      }
      function InitModal(k) {
        if (QuerySeat) {
          for (let i = 0; i < QuerySeat.childElementCount; i++) {
            for (let j = 0; j < QuerySeat.children[i].childElementCount; j++) {
              if (seat[k][i][j] == 1) {
                QuerySeat.children[i].children[j].style.cssText +=
                  'border: 1px solid var(--color-gray-800);  background-color: var(--color-white)';
              } else if (seat[k][i][j] == 0) {
                QuerySeat.children[i].children[j].style.cssText +=
                  'border: none; background-color: var(--color-gray-100);';
              } else if (seat[k][i][j] == 2) {
                QuerySeat.children[i].children[j].style.cssText +=
                  'border: none; background-color: var(--color-black);';
              }
              QuerySeat.children[i].children[j].addEventListener('click', (e) =>
                SelectSeat(i, j, k)
              );
            }
          }
        }
      }
      // if (QuerySeat) {
      //   for (let i = 0; i < QuerySeat.childElementCount; i++) {
      //     for (let j = 0; j < QuerySeat.children[i].childElementCount; j++) {
      //       QuerySeat.children[i].children[j].addEventListener(
      //         'click',
      //         SelectSeat(i, j, seleted)
      //       );
      //     }
      //   }
      // }
    </script>
  </body>
</html>
